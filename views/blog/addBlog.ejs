<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title><%= pageTitle %></title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<style>
    .invalid{
        border-color: red;
    }
</style>
</head>
<body>
       
        <%- include('../includes/navigation.ejs') %>
        <div class="container p-5">
            <div>
                <div class="display-4">
                    Add a new blog:
                </div>
                <hr>
            </div>
    <main>
            <%if(errorMessage) { %>
                <div class="text-center alert alert-danger" role="alert">
                        <%= errorMessage %>
                      </div>
            <% } %>
        <form class="product-form" action="/blog/<% if (editing) { %><%=blog._id%>/editBlog<% }else {%>addBlog<% } %>" method="POST">
            <div class="form-group">
                <label for="title">Title</label>
                <input class="form-control <%= validationErrors.find(e => e.param === 'title') ? 'invalid' : '' %>"
                 type="text" name="title" id="title" value="<% if(editing || hasError) { %><%=blog.title%><% } %>" >
            </div>
            <div class="form-group">
                <label for="description">Description</label>
                <input class="form-control <%= validationErrors.find(e => e.param === 'description') ? 'invalid' : '' %>"
                type="text" name="description" id="description" value="<% if(editing || hasError) { %><%= blog.description%><% } %>" >
            </div>
            <div class="form-group">
                <label for="content">Content</label>
                <textarea class="form-control <%= validationErrors.find(e => e.param === 'content') ? 'invalid' : '' %>"
                    name="content" id="content" rows="5" ><% if (editing|| hasError) { %><%= blog.content %><% } %></textarea>
            </div>
            <div class="form-group">
                <label for="category">Category</label>
                <input class="form-control <%= validationErrors.find(e => e.param === 'category') ? 'invalid' : '' %>"
                type="text" name="category" id="category"value="<% if(editing || hasError) { %><%= blog.category%><% } %>" >
            </div>
            <button class="btn btn-outline-success" type="submit"><% if (editing) { %>Update-Blog<% } else {%> Post-Blog<% } %></button>
        </form>
    </main>
    </div>
</body>
</html>